{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport CategoryBar from './components/CategoryBar.vue';\nimport ProductCard from './components/ProductCard.vue';\nimport SearchProducts from './components/SearchProducts.vue';\nimport NavMenu from './components/NavMunu.vue';\nimport PageBar from './components/PageBar.vue';\nexport default {\n  name: 'App',\n  components: {\n    CategoryBar: CategoryBar,\n    ProductCard: ProductCard,\n    SearchProducts: SearchProducts,\n    NavMenu: NavMenu,\n    PageBar: PageBar\n  },\n  data: function data() {\n    return {\n      selectedCategory: [],\n      query: '',\n      productsOnPage: 2,\n      curentPage: 0\n    };\n  },\n  methods: {\n    getSelectedCategory: function getSelectedCategory(data) {\n      this.selectedCategory = data;\n    },\n    getQuery: function getQuery(data) {\n      this.query = data;\n    },\n    getCurrentPage: function getCurrentPage(data) {\n      this.curentPage = data;\n    }\n  },\n  computed: {\n    products: function products() {\n      return this.$store.getters['getProducts'];\n    },\n    filteredProducts: function filteredProducts() {\n      var _this = this;\n      var products = [];\n      var paginatedProducts = [[]];\n      var index = 0;\n      products = this.selectedCategory.length || this.query ? this.products.filter(function (product) {\n        return (_this.selectedCategory.length ? ~_this.selectedCategory.indexOf(product.category.toString()) : true) && ~product.title.toLowerCase().indexOf(_this.query.toLowerCase());\n      }) : this.products;\n      for (var i = 0; i < products.length; i++) {\n        if (i % this.productsOnPage == 0 && i != 0) {\n          index++;\n          paginatedProducts[index] = [];\n        }\n        paginatedProducts[index].push(products[i]);\n      }\n      return paginatedProducts;\n    }\n  },\n  created: function created() {\n    this.$store.dispatch('fetchProducts');\n  }\n};","map":{"version":3,"names":["CategoryBar","ProductCard","SearchProducts","NavMenu","PageBar","name","components","data","selectedCategory","query","productsOnPage","curentPage","methods","getSelectedCategory","getQuery","getCurrentPage","computed","products","$store","getters","filteredProducts","_this","paginatedProducts","index","length","filter","product","indexOf","category","toString","title","toLowerCase","i","push","created","dispatch"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <header>\n      <div class=\"nav-menu\">\n        <div class=\"header-wrapper\">\n          <NavMenu/>\n        <SearchProducts @sentQuery=\"getQuery\"/>\n        </div>\n      </div>\n    </header>\n    <div class=\"wrapper\">\n      <aside>\n        <CategoryBar @sentCategory=\"getSelectedCategory\"/>\n      </aside>\n      <main >\n        <PageBar :allPageNumber=\"filteredProducts\" @sentPage=\"getCurrentPage\"/>\n        <div class=\"cards-container\">\n          <ProductCard v-for=\"items in filteredProducts[curentPage]\" :key=\"items.id\" :product=\"items\"></ProductCard>\n        </div>\n      </main>\n    </div>\n    <!-- <nav>\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/about\">About</router-link>\n    </nav>\n    <router-view/> -->\n  </div>\n</template>\n\n<script>\nimport CategoryBar from './components/CategoryBar.vue'\nimport ProductCard from './components/ProductCard.vue'\nimport SearchProducts from './components/SearchProducts.vue'\nimport NavMenu from './components/NavMunu.vue'\nimport PageBar from './components/PageBar.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    CategoryBar,\n    ProductCard,\n    SearchProducts,\n    NavMenu,\n    PageBar\n  },\n  data: function () {\n    return {\n      selectedCategory: [],\n      query: '',\n      productsOnPage: 2,\n      curentPage: 0,\n    }\n  },\n  methods: {\n    getSelectedCategory: function (data) {\n      this.selectedCategory = data;\n    },\n    getQuery: function (data) {\n      this.query = data;\n    },\n    getCurrentPage: function (data) {\n      this.curentPage = data;\n    }\n  },\n  computed: {\n    products() {\n      return this.$store.getters['getProducts'];\n    },\n    filteredProducts() {\n      let products = [];\n      let paginatedProducts = [[]];\n      let index = 0;\n      products = (this.selectedCategory.length || this.query)\n      ? this.products.filter(product => {\n        return ((this.selectedCategory.length) ? ~this.selectedCategory.indexOf(product.category.toString()) : true)\n         && ~product.title.toLowerCase().indexOf(this.query.toLowerCase());\n      })\n      : this.products\n      for (let i = 0; i < products.length; i++) {\n        if (i % this.productsOnPage == 0 && i != 0) {\n          index ++;\n          paginatedProducts[index] = []\n        }\n        paginatedProducts[index].push(products[i]);\n      }\n      return paginatedProducts;\n    }\n  },\n  created() {\n    this.$store.dispatch('fetchProducts');\n    \n  },\n}\n\n</script>\n\n<style lang=\"less\">\n@import url(./assets/less/style.less);\n\n</style>\n"],"mappings":";;;;;;;AA8BA,OAAAA,WAAA;AACA,OAAAC,WAAA;AACA,OAAAC,cAAA;AACA,OAAAC,OAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAN,WAAA,EAAAA,WAAA;IACAC,WAAA,EAAAA,WAAA;IACAC,cAAA,EAAAA,cAAA;IACAC,OAAA,EAAAA,OAAA;IACAC,OAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,gBAAA;MACAC,KAAA;MACAC,cAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,mBAAA,WAAAA,oBAAAN,IAAA;MACA,KAAAC,gBAAA,GAAAD,IAAA;IACA;IACAO,QAAA,WAAAA,SAAAP,IAAA;MACA,KAAAE,KAAA,GAAAF,IAAA;IACA;IACAQ,cAAA,WAAAA,eAAAR,IAAA;MACA,KAAAI,UAAA,GAAAJ,IAAA;IACA;EACA;EACAS,QAAA;IACAC,QAAA,WAAAA,SAAA;MACA,YAAAC,MAAA,CAAAC,OAAA;IACA;IACAC,gBAAA,WAAAA,iBAAA;MAAA,IAAAC,KAAA;MACA,IAAAJ,QAAA;MACA,IAAAK,iBAAA;MACA,IAAAC,KAAA;MACAN,QAAA,QAAAT,gBAAA,CAAAgB,MAAA,SAAAf,KAAA,GACA,KAAAQ,QAAA,CAAAQ,MAAA,WAAAC,OAAA;QACA,QAAAL,KAAA,CAAAb,gBAAA,CAAAgB,MAAA,IAAAH,KAAA,CAAAb,gBAAA,CAAAmB,OAAA,CAAAD,OAAA,CAAAE,QAAA,CAAAC,QAAA,eACA,CAAAH,OAAA,CAAAI,KAAA,CAAAC,WAAA,GAAAJ,OAAA,CAAAN,KAAA,CAAAZ,KAAA,CAAAsB,WAAA;MACA,KACA,KAAAd,QAAA;MACA,SAAAe,CAAA,MAAAA,CAAA,GAAAf,QAAA,CAAAO,MAAA,EAAAQ,CAAA;QACA,IAAAA,CAAA,QAAAtB,cAAA,SAAAsB,CAAA;UACAT,KAAA;UACAD,iBAAA,CAAAC,KAAA;QACA;QACAD,iBAAA,CAAAC,KAAA,EAAAU,IAAA,CAAAhB,QAAA,CAAAe,CAAA;MACA;MACA,OAAAV,iBAAA;IACA;EACA;EACAY,OAAA,WAAAA,QAAA;IACA,KAAAhB,MAAA,CAAAiB,QAAA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}